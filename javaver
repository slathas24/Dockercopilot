---
- name: Install a specific Java version using YUM
  hosts: all
  become: yes
  gather_facts: false

  vars:
    java_version: ""  # version will be passed as an argument

  tasks:
    - name: Fail if java_version is not provided
      fail:
        msg: "You must provide a Java version (e.g., java_version=17)"
      when: java_version == ""

    - name: Install specific Java version using yum
      yum:
        name: "java-{{ java_version }}-openjdk"
        state: present

    - name: Verify Java installation
      command: java -version
      register: java_output
      ignore_errors: yes

    - name: Show installed Java version
      debug:
        msg: "{{ java_output.stderr_lines | default(['Java not found']) }}"
