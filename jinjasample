# =====================================================================
# Host Configuration File
# Generated by Ansible on {{ ansible_date_time.date }} {{ ansible_date_time.time }}
# =====================================================================

[host]
hostname = {{ inventory_hostname }}
ip = {{ ansible_host }}
environment = {{ env }}
fqdn = {{ ansible_facts['fqdn'] }}
domain = {{ ansible_facts['domain'] | default('N/A') }}
uptime = {{ ansible_facts['uptime_seconds'] | int // 3600 }} hours
current_user = {{ ansible_facts['user_id'] }}

[os]
distribution = {{ ansible_facts['distribution'] }}
version = {{ ansible_facts['distribution_version'] }}
release = {{ ansible_facts['distribution_release'] | default('N/A') }}
kernel = {{ ansible_facts['kernel'] }}
architecture = {{ ansible_facts['architecture'] }}
selinux = {{ ansible_facts['selinux']['status'] if ansible_facts['selinux'] is defined else 'N/A' }}

[hardware]
cpu_count = {{ ansible_facts['processor_vcpus'] }}
cpu_model = {{ ansible_facts['processor'][1] if ansible_facts['processor']|length > 1 else ansible_facts['processor'][0] }}
memory_total_mb = {{ ansible_facts['memtotal_mb'] }}
swap_total_mb = {{ ansible_facts['swaptotal_mb'] }}

[network]
default_interface = {{ ansible_facts['default_ipv4']['interface'] }}
default_ipv4 = {{ ansible_facts['default_ipv4']['address'] }}
gateway = {{ ansible_facts['default_ipv4']['gateway'] }}
dns_servers = {{ ansible_facts['dns']['nameservers'] | join(', ') }}
interfaces = {{ ansible_facts['interfaces'] | join(', ') }}

[storage]
disks = {{ ansible_facts['devices'] | list | join(', ') }}
root_mount = {{ ansible_facts['mounts'][0]['mount'] if ansible_facts['mounts']|length > 0 else '/' }}
filesystem_type = {{ ansible_facts['mounts'][0]['fstype'] if ansible_facts['mounts']|length > 0 else 'N/A' }}

[application]
app_name = {{ app_name }}
app_port = {{ app_port }}
app_config_path = /etc/{{ app_name }}/config.yml
log_path = /var/log/{{ app_name }}

[paths]
home = {{ ansible_facts['env']['HOME'] }}
shell = {{ ansible_facts['env']['SHELL'] }}

[meta]
ansible_version = {{ ansible_version.full }}
ansible_run_date = {{ ansible_date_time.iso8601 }}
